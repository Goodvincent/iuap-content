# 日志规范与异常处理

平常我的系统开发运行过程中，记录关键信息对于完善和修改提出了明确的建议。但是在现实的一些应用中的日志记录比较混乱，导致无法准确快速的定位问题发生的地方和问题发生的时候以及问题发生的场景。

## 记录日志

1.要记录什么类型日志
我们的系统开发常常会涉及到系统致命错误日志，系统可控错误日志，用户操作日志和系统运行日志这四大类日志的记录。记录致命性错误用于记录会影响整个系统正常运行的错误，比如我们在开发过程中的try...catch...模块中抛出的一些未能预料到的系统错误，而且这种错误会导致系统运行失败的信息进行记录。系统可控错误日志，这一类的日志发生之后其实不会导致系统运行出现异常的，可能是对某些数据的初始化深入验证出现的问题。用户操作日志这一类日志量比较大，同时这一类日志用于跟踪用户的行为分析是非常的重要的应为可以作为用户数据挖掘发现用户的喜好等一些信息。程序运行信息记录，这一类信息用于记录子过程运行情况。

2.致命错误如何记录
如上所述我们明确的错误日志，是用来记录系统费预测性错误，可能导致网站爆出黄页相应的操作流程无法进行下去。或则在一些安装程序中记录导致系统突然退出的相关信息。在防御式编程中经常使用try....catch...模块包括一个程序的运行过程，catch的最后捕获的一级Exception是我们无法控制也无法预测的系统运行异常，这里我们记录fatal致命性错误，我这里一般记录的是一场发生的堆栈信息。


## 异常说明

Exception类可以分为两种：运行时异常和受检查异常。
1、运行时异常
RuntimeException类及其子类都被称为运行时异常，这种异常的特点是Java编译器不去检查它，也就是说，当程序中可能出现这类异常时，即使没有用try...catch语句捕获它，也没有用throws字句声明抛出它，还是会编译通过。例如，当除数为零时，就会抛出java.lang.ArithmeticException异常。
2、受检查异常
除了RuntimeException类及其子类外，其他的Exception类及其子类都属于受检查异常，这种异常的特点是要么用try...catch捕获处理，要么用throws语句声明抛出，否则编译不会通过。
3、两者的区别
运行时异常表示无法让程序恢复运行的异常，导致这种异常的原因通常是由于执行了错误的操作。一旦出现错误，建议让程序终止。
受检查异常表示程序可以处理的异常。如果抛出异常的方法本身不处理或者不能处理它，那么方法的调用者就必须去处理该异常，否则调用会出错，连编译也无法通过。当然，这两种异常都是可以通过程序来捕获并处理的，